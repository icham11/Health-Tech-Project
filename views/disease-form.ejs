<%- include('./partials/header') %>

<div class="container mt-5">
  <h1><%= disease ? 'Edit Disease' : 'Add New Disease' %></h1>

  <% if (error) { %>
  <div class="alert alert-danger">
    <ul>
      <% error.forEach(err => { %>
      <li><%= err %></li>
      <% }) %>
    </ul>
  </div>
  <% } %>

  <form
    action="<%= disease ? `/diseases/${disease.id}/edit` : '/diseases/add' %>"
    method="POST"
  >
    <div class="form-group">
      <label for="name">Name</label>
      <input
        type="text"
        class="form-control"
        id="name"
        name="name"
        value="<%= disease ? disease.name : '' %>"
        required
      />
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <textarea
        class="form-control"
        id="description"
        name="description"
        rows="3"
        required
      >
<%= disease ? disease.description : '' %></textarea
      >
    </div>
    <div class="form-group">
      <label for="level">Level</label>
      <input
        type="number"
        class="form-control"
        id="level"
        name="level"
        value="<%= disease ? disease.level : '' %>"
        min="1"
        required
      />
    </div>
    <button type="submit" class="btn btn-primary">
      <%= disease ? 'Update' : 'Create' %>
    </button>
    <a href="/diseases" class="btn btn-secondary">Cancel</a>
  </form>
</div>

<%- include('./partials/footer') %>
