<%- include('./partials/header') %>

<div class="container mt-5">
  <h1>Edit Profile</h1>

  <% if (error) { %>
    <div class="alert alert-danger"><%= error %></div>
  <% } %>

  <form action="/profile/edit" method="POST">
    <div class="form-group">
      <label for="firstName">First Name</label>
      <input type="text" class="form-control" id="firstName" name="firstName" value="<%= user.UserProfile ? user.UserProfile.firstName : '' %>" required>
    </div>
    <div class="form-group">
      <label for="lastName">Last Name</label>
      <input type="text" class="form-control" id="lastName" name="lastName" value="<%= user.UserProfile ? user.UserProfile.lastName : '' %>" required>
    </div>
    <div class="form-group">
      <label for="dateOfBirth">Date of Birth</label>
      <input type="date" class="form-control" id="dateOfBirth" name="dateOfBirth" value="<%= user.UserProfile ? user.UserProfile.dateOfBirth.toISOString().split('T')[0] : '' %>" required>
    </div>
    <div class="form-group">
        <label for="gender">Gender</label>
        <select class="form-control" id="gender" name="gender">
          <option value="Male" <%= user.UserProfile && user.UserProfile.gender === 'Male' ? 'selected' : '' %>>Male</option>
          <option value="Female" <%= user.UserProfile && user.UserProfile.gender === 'Female' ? 'selected' : '' %>>Female</option>
        </select>
    </div>
    <div class="form-group">
      <label for="address">Address</label>
      <textarea class="form-control" id="address" name="address" rows="3"><%= user.UserProfile ? user.UserProfile.address : '' %></textarea>
    </div>
    <div class="form-group">
      <label for="city">City</label>
      <input type="text" class="form-control" id="city" name="city" value="<%= user.UserProfile ? user.UserProfile.city : '' %>">
    </div>
    <div class="form-group">
      <label for="country">Country</label>
      <input type="text" class="form-control" id="country" name="country" value="<%= user.UserProfile ? user.UserProfile.country : '' %>">
    </div>
    <button type="submit" class="btn btn-primary">Save Changes</button>
    <a href="/" class="btn btn-secondary">Cancel</a>
  </form>
</div>

<%- include('./partials/footer') %>
